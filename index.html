ㅣ<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정확한 일간 계산기</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        table {
            width: 50%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
    <script>
        function calculateDayStem() {
            let birthDateInput = document.getElementById("birthDate").value;
            if (!/^\d{8}$/.test(birthDateInput)) {
                alert("생년월일을 YYYYMMDD 형식으로 입력하세요.");
                return;
            }

            let birthYear = parseInt(birthDateInput.substring(0, 4));
            let birthMonth = parseInt(birthDateInput.substring(4, 6));
            let birthDay = parseInt(birthDateInput.substring(6, 8));

            let dayStem = getAccurateDayStem(birthYear, birthMonth, birthDay);

            document.getElementById("dayStemCell").innerText = dayStem;
        }

        function getAccurateDayStem(year, month, day) {
            const heavenlyStems = ["갑", "을", "병", "정", "무", "기", "경", "신", "임", "계"];

            // 정확한 일주 계산을 위한 공식 (기준일: 1899년 12월 31일)
            let baseDate = new Date(1899, 11, 31);
            let inputDate = new Date(year, month - 1, day);
            let dayDifference = Math.floor((inputDate - baseDate) / (1000 * 60 * 60 * 24));

            let dayStem = heavenlyStems[(dayDifference + 9) % 10];

            return dayStem;
        }
    </script>
</head>
<body>
    <h2>정확한 일간(천간) 계산기</h2>
    <label for="birthDate">생년월일 입력 (YYYYMMDD 형식):</label>
    <input type="text" id="birthDate" maxlength="8" placeholder="예: 20250101">
    <button onclick="calculateDayStem()">결과 확인</button>

    <h3>결과:</h3>
    <table>
        <tr>
            <th>일간 (천간)</th>
        </tr>
        <tr>
            <td id="dayStemCell"></td>
        </tr>
    </table>
</body>
</html>
