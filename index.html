ㅣ<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>일주 계산기</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    table {
      width: 50%;
      margin: 20px auto;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #333;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
  <script>
    // 60갑자 배열 (일주)
    const dayPillars = [
      "갑자", "을축", "병인", "정묘", "무진", "기사", "경오", "신미", "임신", "계유",
      "갑술", "을해", "병자", "정축", "무인", "기묘", "경진", "신사", "임오", "계미",
      "갑신", "을유", "병술", "정해", "무자", "기축", "경인", "신묘", "임진", "계사",
      "갑오", "을미", "병신", "정유", "무술", "기해", "경자", "신축", "임인", "계묘",
      "갑진", "을사", "병오", "정미", "무신", "기유", "경술", "신해", "임자", "계축",
      "갑인", "을묘", "병진", "정사", "무오", "기미", "경신", "신유", "임술", "계해"
    ];
    // 기준 날짜: 1982년 9월 6일 (양력), 일주는 "임진" → dayPillars[28]
    const refDate = new Date(1982, 8, 6); // 월은 0부터 시작하므로 8은 9월
    const refIndex = 28; // 1982-09-06은 "임진" (배열의 인덱스 28)

    function calculateDayPillar() {
      let input = document.getElementById("birthDate").value;
      if (!/^\d{8}$/.test(input)) {
        alert("생년월일을 YYYYMMDD 형식으로 입력하세요.");
        return;
      }
      let year = parseInt(input.substring(0, 4));
      let month = parseInt(input.substring(4, 6));
      let day = parseInt(input.substring(6, 8));
      
      let inputDate = new Date(year, month - 1, day);
      let diffDays = Math.floor((inputDate - refDate) / (1000 * 60 * 60 * 24));
      
      // 기준 인덱스에서 diffDays를 더한 후 60으로 모듈러 연산
      let index = ((refIndex + diffDays) % 60 + 60) % 60;  // 음수 보정
      
      let result = dayPillars[index];
      document.getElementById("dayPillarCell").innerText = result;
    }
  </script>
</head>
<body>
  <h2>일주 계산기</h2>
  <label for="birthDate">생년월일 입력 (YYYYMMDD 형식):</label>
  <input type="text" id="birthDate" maxlength="8" placeholder="예: 19820906">
  <button onclick="calculateDayPillar()">결과 확인</button>
  <h3>결과:</h3>
  <table>
    <tr>
      <th>일주 (일간+지지)</th>
    </tr>
    <tr>
      <td id="dayPillarCell"></td>
    </tr>
  </table>
</body>
</html>
