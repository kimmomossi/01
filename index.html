<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>생년월일 일주 계산</title>
</head>
<body>
  <h1>천간(일간) 계산</h1>
  <label for="birthdate">생년월일 (YYYY-MM-DD): </label>
  <input type="date" id="birthdate">
  <button onclick="calculateHeavenlyStem()">계산</button>
  <p id="result"></p>

  <script>
    // 간단한 천간만 계산하는 예시
    // 1982-09-06 -> '임'이 나오도록 구현
    // 실제 사주 이론(시주, 24절기, 윤달, 지역차 등)과는 다를 수 있습니다.

    function getHeavenlyStem(dateObj) {
      // 기준 날짜(1900-01-31)를 갑자일로 간주
      const reference = new Date(1900, 0, 31);
      // 기준 날짜와의 일 수 차이를 계산
      let diff = Math.floor((dateObj - reference) / (1000 * 60 * 60 * 24));

      // 10간 배열
      const heavenlyStems = ["갑","을","병","정","무","기","경","신","임","계"];

      // 60갑자 주기로 계산 (음수 모듈로 보정)
      let dayIndex = (diff % 60 + 60) % 60;

      // 천간만 추출
      return heavenlyStems[dayIndex % 10];
    }

    function calculateHeavenlyStem() {
      const birthdateValue = document.getElementById("birthdate").value;
      if (!birthdateValue) {
        alert("생년월일을 입력하세요.");
        return;
      }
      // 사용자 입력(YYYY-MM-DD)으로 Date 객체를 생성
      const dateObj = new Date(birthdateValue);

      // 천간 계산
      const stem = getHeavenlyStem(dateObj);

      // 결과 출력
      document.getElementById("result").textContent =
        "당신의 일주(천간)은 " + stem + " 입니다.";
    }
  </script>
</body>
</html>
